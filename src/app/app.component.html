<!-- Header -->
<header><h1>Tankstellen Köln</h1></header>

<!-- Navbar -->
<nav>
  <div class="nav-head">
    <div>
      <Button (click)="showStreet = true; backToAllStations()"
        >Alle Tankstellen</Button
      >
    </div>
    <div>
      <input
        type="text"
        placeholder="Suche nach Straße oder Stadtteil"
        [(ngModel)]="searchText"
        (keyup)="onSearch()"
      />
      <input type="button" value="" (click)="onSearch()" />
    </div>
  </div>

  <div class="filter-btn-con">
    @for(letter of letters; track letter) {
    <button
      class="letter-btn"
      [ngClass]="{ highlight: selectedLetter === letter }"
      (click)="
        selectLetter(letter);
        data.filterStationsByLetter(
          letter,
          showStreet ? 'street' : 'district',
          ascending,
          searchText
        )
      "
    >
      {{ letter }}
    </button>
    }
    <button
      [ngClass]="{ highlight: showStreet }"
      (click)="
        showStreet = true;
        data.sortStations(this.data.stations, 'street', ascending)
      "
    >
      Straßen
    </button>
    <button
      [ngClass]="{ highlight: !showStreet }"
      (click)="
        showStreet = false;
        data.sortStations(this.data.stations, 'district', ascending)
      "
    >
      Stadtteile
    </button>
    <button
      [ngClass]="{ highlight: ascending }"
      (click)="
        ascending = true;
        data.sortStations(
          data.stations,
          showStreet ? 'street' : 'district',
          ascending
        )
      "
    >
      Aufsteigend
    </button>
    <button
      [ngClass]="{ highlight: !ascending }"
      (click)="
        ascending = false;
        data.sortStations(
          data.stations,
          showStreet ? 'street' : 'district',
          ascending
        )
      "
    >
      Absteigend
    </button>
  </div>
</nav>

<!-- Content Cards -->
<main>
  @if(data.stations) { @for(station of data.stations; track station.id) {
  <app-card [station]="station" [showStreet]="showStreet"></app-card>
  } } @else {
  <p>Keine Tankstellen gefunden.</p>
  }
</main>

<!-- <router-outlet></router-outlet> -->
